{% extends 'base.html' %}

{% load static %}

{% load humanize %}

{% block title %} | Browse Property Listings {% endblock %}

{% block content %}
<!-- Sub banner start -->
<div class="sub-banner overview-bgi">
  <div class="container">
      <div class="breadcrumb-area">
          <h1>Properties Grid</h1>
          <ul class="breadcrumbs">
              <li><a href="{% url 'index' %}">Home</a></li>
              <li class="active"><a href="{% url 'listings' %}">Properties Grid</a></li>
          </ul>
      </div>
  </div>
</div>
<!-- Sub banner end -->

<!--Alert Messages-->
{% include 'partials/_alerts.html' %}

<!-- Properties list fullwidth start -->
<div class="properties-list-fullwidth content-area-2">
  <div class="container">
      <div class="option-bar d-none d-xl-block d-lg-block d-md-block d-sm-block">
          <div class="row clearfix">
              <div class="col-xl-7 col-lg-7 col-md-5 col-sm-5">
                  <h4>
                      <span class="heading-icon bg-primary">
                          <i class="fa icon-design bg-primary "></i>
                          <i class="fa fa-th-large bg-primary"></i>
                      </span>
                  <a href="{% url 'index' %}">
                    <span class="heading"></i> Home</span> </a>|
                  <span class="heading breadcrumb-item " style="color: blue;">Properties Grid</span>
                  |
                  <a href="{% url 'addpropertys' %}">
                  <span class="heading breadcrumb-item " style="color: blue;">Latest Property</span>
                  </a>
                  </h4>
              </div>
          </div>
      </div>
  
      <div class="row">
            {% if listings %}
            {% for listing in listings %}
            <div class="col-lg-4 col-md-6 col-sm-12">
                <div class="property-box">
                    <div class="property-thumbnail">
                        <a href="{% url 'listing' listing.id %}"  class="property-img"  >
                            <div class="tag button alt featured">Featured</div>
                            <div class="price-ratings-box">
                                <p class="price">
                                    ₹{{ listing.price }}
                                </p>
                                <div class="ratings">
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star-o"></i>
                                </div>
                            </div>
                            <img src="{{ listing.photo_main.url }}" alt="property-1" class="img-fluid" style="width: 22rem; height: 14rem;">
                        </a>
                        <div class="property-overlay">
                            <a href="{% url 'listing' listing.id %}" class="overlay-link">
                                <i class="fa fa-link"></i>
                            </a>

                            <div class="property-magnify-gallery">
                              
                            <div class="active item carousel-item" data-slide-number="0" >
                              <a href="{{  listing.photo_main.url }}" data-lightbox="home-images" class="overlay-link">
                              <i class="fa fa-expand"></i>
                              </a>
                          </div>
                                {% if listing.photo_1 %}
                        <div class="item carousel-item" data-slide-number="1">
                            <a href="{{ listing.photo_1.url }}" data-lightbox="home-images">
                                <img src="{{ listing.photo_1.url }}" class="img-fluid" alt="property-6"  >
                            </a>
                        </div>
                        {% endif %}
                        {% if listing.photo_2 %}
                        <div class="item carousel-item" data-slide-number="2">
                         <a href="{{ listing.photo_2.url }}" data-lightbox="home-images">
                            <img src="{{ listing.photo_2.url }}" class="img-fluid" alt="property-1"  >
                         </a>
                        </div>                        
                        {% endif %}
                        {% if listing.photo_3 %}
                        <div class="item carousel-item" data-slide-number="4">
                         <a href="{{ listing.photo_3.url }}" data-lightbox="home-images">
                            <img src="{{ listing.photo_3.url }}" class="img-fluid" alt="property-5"  >
                         </a>
                        </div>                        
                        {% endif %}
                        {% if listing.photo_4 %}
                        <div class="item carousel-item" data-slide-number="5">
                         <a href="{{ listing.photo_4.url }}" data-lightbox="home-images">
                            <img src="{{ listing.photo_4.url }}" class="img-fluid" alt="property-8"  >
                         </a>
                        </div>                        
                        {% endif %}
                        {% if listing.photo_5 %}
                        <div class="item carousel-item" data-slide-number="6">
                         <a href="{{ listing.photo_5.url }}" data-lightbox="home-images">
                            <img src="{{ listing.photo_5.url }}" class="img-fluid" alt="property-8"  >
                        </a>
                        </div>                        
                        {% endif %}
                        {% if listing.photo_6 %}
                        <div class="item carousel-item" data-slide-number="7">
                            <a href="{{ listing.photo_6.url }}" data-lightbox="home-images">
                                <img src="{{ listing.photo_6.url }}" class="img-fluid" alt="property-8"  >
                            </a>
                            </div>                        
                        {% endif %}
                                
                            </div>
                        </div>
                    </div>
                    <div class="detail" style="width: 22rem; height: 13rem;">
                        <h1 class="title">
                            <a href="{% url 'listing' listing.id %}">{{ listing.title }}</a>
                        </h1>
                        <div class="location">
                            <a href="{% url 'listing' listing.id %}">
                                <i class="fa fa-map-marker"></i>{{listing.address}}
                            </a>
                        </div>
                        <ul class="facilities-list clearfix">
                            <li>
                                <i class="flaticon-bed"></i> {{listing.bedrooms}} : Bedroom
                            </li>
                            <li>
                                <i class="flaticon-bath"></i> {{listing.hall}} : Hall
                            </li>
                            
                            <li>
                                <i class="flaticon-square-layouting-with-black-square-in-east-area"></i>{{listing.lot_size}} Sq Ft
                            </li>
                            <li>
                                <i class="fa fa-coffee"></i> {{listing.kitchen}} : kitchen
                            </li>
                        </ul>
                    </div>
                    <div class="footer">
                        <a href="#">
                            <i class="fa fa-user"></i>{{listing.realtor}} : realtor
                        </a>
                        <span>
                                <i class="fa fa-calendar-o"></i> {{listing.list_date}}
                            </span>
                    </div>
                </div>
            </div>
            {%endfor%}
            {% else %}
            <div class="col-md-12">
              <p>No Listings Available</p>
            </div> 
          {% endif%}
    </div>
    
    <div class="row">
      {% if addpropertys %}
      {% for addproperty1 in addpropertys %}
      <div class="col-lg-4 col-md-6 col-sm-12">
          <div class="property-box">
              <div class="property-thumbnail">
                  <a href="{% url 'addproperty1' addproperty1.id %}"  class="property-img"  >
                      <div class="tag button alt featured">Featured</div>
                      <div class="price-ratings-box">
                          <p class="price">
                              ₹{{ addproperty1.price }}
                          </p>
                          <div class="ratings">
                              <i class="fa fa-star"></i>
                              <i class="fa fa-star"></i>
                              <i class="fa fa-star"></i>
                              <i class="fa fa-star"></i>
                              <i class="fa fa-star-o"></i>
                          </div>
                      </div>
                      <img src="{{ addproperty1.photo_main.url }}" alt="property-1" class="img-fluid" style="width: 22rem; height: 14rem;">
                  </a>
                  <div class="property-overlay">
                      <a href="{% url 'addproperty1' addproperty1.id %}" class="overlay-link">
                          <i class="fa fa-link"></i>
                      </a>
                      <div class="property-magnify-gallery">
                          <a href="{{ addproperty1.photo_main.url }}" data-lightbox="home-images"class="overlay-link">
                              <i class="fa fa-expand"></i>
                          </a>
                          {% if addproperty1.photo_1 %}
                  <div class="item carousel-item" data-slide-number="1">
                      <a href="{{ addproperty1.photo_1.url }}" data-lightbox="home-images">
                          <img src="{{ addproperty1.photo_1.url }}" class="img-fluid" alt="property-6"  >
                      </a>
                  </div>
                  {% endif %}
                  {% if addproperty1.photo_2 %}
                  <div class="item carousel-item" data-slide-number="2">
                   <a href="{{ addproperty1.photo_2.url }}" data-lightbox="home-images">
                      <img src="{{ addproperty1.photo_2.url }}" class="img-fluid" alt="property-1"  >
                   </a>
                  </div>                        
                  {% endif %}
                  {% if addproperty1.photo_3 %}
                  <div class="item carousel-item" data-slide-number="4">
                   <a href="{{ addproperty1.photo_3.url }}" data-lightbox="home-images">
                      <img src="{{ addproperty1.photo_3.url }}" class="img-fluid" alt="property-5"  >
                   </a>
                  </div>                        
                  {% endif %}
                  {% if addproperty1.photo_4 %}
                  <div class="item carousel-item" data-slide-number="5">
                   <a href="{{ addproperty1.photo_4.url }}" data-lightbox="home-images">
                      <img src="{{ addproperty1.photo_4.url }}" class="img-fluid" alt="property-8"  >
                   </a>
                  </div>                        
                  {% endif %}
                  {% if addproperty1.photo_5 %}
                  <div class="item carousel-item" data-slide-number="6">
                   <a href="{{ addproperty1.photo_5.url }}" data-lightbox="home-images">
                      <img src="{{ addproperty1.photo_5.url }}" class="img-fluid" alt="property-8"  >
                  </a>
                  </div>                        
                  {% endif %}
                  {% if addproperty1.photo_6 %}
                  <div class="item carousel-item" data-slide-number="7">
                      <a href="{{ addproperty1.photo_6.url }}" data-lightbox="home-images">
                          <img src="{{ addproperty1.photo_6.url }}" class="img-fluid" alt="property-8"  >
                      </a>
                      </div>                        
                  {% endif %}
                          
                      </div>
                  </div>
              </div>
              <div class="detail" style="width: 22rem; height: 13rem;">
                  <h1 class="title">
                      <a href="{% url 'addproperty1' addproperty1.id %}">{{ addproperty1.title }}</a>
                  </h1>
                  <div class="location">
                      <a href="{% url 'addproperty1' addproperty1.id %}">
                          <i class="fa fa-map-marker"></i>{{addproperty1.address}}
                      </a>
                  </div>
                  <ul class="facilities-list clearfix">
                      <li>
                          <i class="flaticon-bed"></i> {{addproperty1.bedrooms}} : Bedroom
                      </li>
                      <li>
                          <i class="flaticon-bath"></i> {{addproperty1.hall}} : Hall
                      </li>
                      
                      <li>
                          <i class="flaticon-square-layouting-with-black-square-in-east-area"></i>{{addproperty1.lot_size}} Sq Ft
                      </li>
                      <li>
                          <i class="fa fa-coffee"></i> {{addproperty1.kitchen}} : kitchen
                      </li>
                  </ul>
              </div>
              <div class="footer">
                  <a href="#">
                      <i class="fa fa-user"></i>{{addproperty1.realtor}} : realtor
                  </a>
                  <span>
                          <i class="fa fa-calendar-o"></i> {{addproperty1.list_date}}
                      </span>
              </div>
          </div>
      </div>
      {%endfor%}
      {% else %}
      <div class="col-md-12">
        <p>No addpropertys Available</p>
      </div> 
    {% endif%}
</div>
</div>
</div>

<!-- Properties list fullwidth end -->
<div class="row">
<div class="col-md-12">
{% if addpropertys.has_other_pages %}
  <ul class="pagination">
    {% if addpropertys.has_previous %}
      <li class="page-item">
        <a href="?page={{addpropertys.previous_page_number}}" class="page-link">&laquo;</a>
      </li>
    {% else %}
      <li class="page-item disabled">
        <a class="page-link">&laquo;</a>
      </li>  
    {% endif %}
    {% for i in addpropertys.paginator.page_range %}
      {% if addpropertys.number == i %}
        <li class="page-item active">
          <a class="page-link">{{i}}</a>
        </li>
      {% else %}
        <li class="page-item">
          <a href="?page={{i}}" class="page-link">{{i}}</a>
        </li>  
      {% endif %}
    {% endfor %}
    {% if addpropertys.has_next %}
      <li class="page-item">
        <a href="?page={{addpropertys.next_page_number}}" class="page-link">&raquo;</a>
      </li>
    {% else %}
      <li class="page-item disabled">
        <a class="page-link">&raquo;</a>
      </li>  
    {% endif %}
  </ul>
{% endif %}
</div>
</div>
</div> 
</section>
    </div>
</div>

<!-- Properties list fullwidth end -->
<div class="row">
    <div class="col-md-12">
      {% if listings.has_other_pages %}
        <ul class="pagination">
          {% if listings.has_previous %}
            <li class="page-item">
              <a href="?page={{listings.previous_page_number}}" class="page-link">&laquo;</a>
            </li>
          {% else %}
            <li class="page-item disabled">
              <a class="page-link">&laquo;</a>
            </li>  
          {% endif %}
          {% for i in listings.paginator.page_range %}
            {% if listings.number == i %}
              <li class="page-item active">
                <a class="page-link">{{i}}</a>
              </li>
            {% else %}
              <li class="page-item">
                <a href="?page={{i}}" class="page-link">{{i}}</a>
              </li>  
            {% endif %}
          {% endfor %}
          {% if listings.has_next %}
            <li class="page-item">
              <a href="?page={{listings.next_page_number}}" class="page-link">&raquo;</a>
            </li>
          {% else %}
            <li class="page-item disabled">
              <a class="page-link">&raquo;</a>
            </li>  
          {% endif %}
        </ul>
      {% endif %}
    </div>
  </div>
</div> 
</section>
{% endblock %}
